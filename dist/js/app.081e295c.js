(function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],p=0,f=[];p<s.length;p++)a=s[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("3ebb")},"3ebb":function(e,t,n){var r=n("e31a");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("517436b3",r,!0,{sourceMap:!1,shadowMode:!1})},"51e2":function(e,t,n){var r=n("7c44");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var o=n("499e").default;o("42c66099",r,!0,{sourceMap:!1,shadowMode:!1})},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}},[n("div",{attrs:{id:"selects"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.coin,expression:"coin"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.coin=t.target.multiple?n:n[0]},e.getQuotes]}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Choose a coin")]),e._l(e.coins,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.quote,expression:"quote"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.quote=t.target.multiple?n:n[0]},e.arbCheck]}},[n("option",{attrs:{disabled:"",value:""}},[e._v("Choose a quote currency")]),e._l(e.quotes,(function(t){return n("option",{key:t},[e._v(" "+e._s(t)+" ")])}))],2)]),n("div",[e.coin&&!e.quote?n("div",[n("p",[e._v(e._s(e.loadQuotes))])]):e.coin&&e.quote&&!e.prices.length?n("div",[n("p",[e._v("Fetching data...")])]):e.coin&&e.quote&&e.noHits?n("div",[n("p",[e._v("No results. Try a different quote currency.")])]):e.coin&&e.quote&&e.prices.length?n("div",[n("best-arb",{attrs:{prices:e.prices}})],1):n("div",[n("img",{attrs:{src:"https://static.coingecko.com/s/coingecko-branding-guide-4f5245361f7a47478fa54c2c57808a9e05d31ac7ca498ab189a3827d6000e22b.png",alt:"CoinGecko logo"}})])])])},i=[],a=n("1da1"),s=(n("96cf"),n("d3b7"),n("159b"),n("fb6a"),n("caad"),n("2532"),n("7db0"),n("4de4"),n("b680"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.loadCmp?n("div",[n("p",{attrs:{id:"perc"}},[e._v(e._s(e.perc))]),n("div",{attrs:{id:"output"}},[n("div",{staticClass:"detail"},[n("img",{attrs:{src:e.logos[0],alt:e.loEx}}),n("div",{staticClass:"text"},[n("div",[e._v(e._s(e.loEx))]),n("div",[e._v(e._s(e.loLast))])])]),n("div",{staticClass:"detail"},[n("img",{attrs:{src:e.logos[1],alt:e.hiEx}}),n("div",{staticClass:"text"},[n("div",[e._v(e._s(e.hiEx))]),n("div",[e._v(e._s(e.hiLast))])])])])]):n("div",[n("p",[e._v("Loading opportunity...")])])}),c=[],u=(n("ac1f"),n("1276"),n("b0c0"),{props:["prices"],data:function(){return{perc:"",logos:[],loLast:"",hiLast:"",loId:"",hiId:"",loEx:"",hiEx:"",loadCmp:!1}},watch:{prices:function(){this.getArb()}},methods:{getLogos:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://api.coingecko.com/api/v3/exchanges/".concat(e));case 2:return r=n.sent,n.next=5,r.json();case 5:o=n.sent,t.logos.push(o.image);case 7:case"end":return n.stop()}}),n)})))()},truncateExchange:function(e){if(e.length>15){var t=e.split(" ");return t.length>1?t[0]:e.slice(0,15)+"..."}return e},resetCmp:function(){this.loadCmp=!1,this.logos=[]},getDetails:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n.resetCmp(),n.loId=e.market.identifier,n.hiId=t.market.identifier,r.next=5,n.getLogos(e.market.identifier);case 5:return r.next=7,n.getLogos(t.market.identifier);case 7:n.perc="".concat(((n.hiLast-n.loLast)/n.loLast*100).toFixed(4),"%"),n.loEx=n.truncateExchange(e.market.name),n.hiEx=n.truncateExchange(t.market.name);case 10:case"end":return r.stop()}}),r)})))()},getArb:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.prices[0],e.loLast=n.last.toFixed(4),r=e.prices[e.prices.length-1],e.hiLast=r.last.toFixed(4),console.log(n.market.identifier,r.market.identifier),e.loId===n.market.identifier&&e.hiId===r.market.identifier){t.next=8;break}return t.next=8,e.getDetails(n,r);case 8:e.loadCmp=!0;case 9:case"end":return t.stop()}}),t)})))()}}}),l=u,p=(n("763b"),n("2877")),f=Object(p["a"])(l,s,c,!1,null,"4fb3a642",null),d=f.exports,h={components:{BestArb:d},data:function(){return{coins:[],coin:"",symbols:[],quotes:[],quote:"",noHits:!1,prices:[],loop:null}},mounted:function(){this.getCoins()},computed:{loadQuotes:function(){return this.quotes.length?"Choose a quote currency":"Fetching data..."}},methods:{arbCheck:function(){var e=this;this.loop&&clearInterval(this.loop),this.prices.length=0,this.loop=setInterval((function(){e.getPrices(e.coin,e.quote)}),3e3)},getCoins:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd");case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,o=[],r.forEach((function(e){o.push([e.id,e.market_cap])})),o.sort((function(e,t){return t[1]-e[1]})),i=[],o.slice(0,20).forEach((function(e){return i.push(e[0])})),e.coins=i;case 12:case"end":return t.stop()}}),t)})))()},getSymbols:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.coingecko.com/api/v3/coins/list");case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,o=[],r.forEach((function(t){e.coins.includes(t.id)&&o.push([t.id,t.symbol])})),e.symbols=o;case 9:case"end":return t.stop()}}),t)})))()},resetQuotes:function(){clearInterval(this.loop),this.quote="",this.prices.length=0,this.noHits=!1},getQuotes:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.resetQuotes(),t.next=3,fetch("https://api.coingecko.com/api/v3/coins/".concat(e.coin,"/tickers"));case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.next=9,e.getSymbols();case 9:o=e.symbols.find((function(t){return t[0]===e.coin}))[1].toUpperCase(),i=[],r.tickers.forEach((function(e){e.base===o&&i.push(e.target)})),e.quotes=i.filter((function(e,t,n){return n.indexOf(e)===t}));case 13:case"end":return t.stop()}}),t)})))()},getPrices:function(e,t){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var o,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch("https://api.coingecko.com/api/v3/coins/".concat(e,"/tickers?depth=true"));case 2:return o=r.sent,r.next=5,o.json();case 5:if(i=r.sent,n.prices=i.tickers.filter((function(e){return e.target===t})),n.prices.sort((function(e,t){return e.last-t.last})),!(n.prices.length<2||n.prices[0].last.toFixed(4)===n.prices[n.prices.length-1].last.toFixed(4))){r.next=11;break}return n.noHits=!0,r.abrupt("return");case 11:n.noHits=!1;case 12:case"end":return r.stop()}}),r)})))()}}},v=h,g=(n("034f"),Object(p["a"])(v,o,i,!1,null,null,null)),m=g.exports,b=n("c894");r["a"].config.productionTip=!1,r["a"].use(b["a"]),r["a"].customElement("vue-widget",m)},"763b":function(e,t,n){"use strict";n("51e2")},"7c44":function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"p[data-v-4fb3a642]{width:100%;margin:16px auto 0}#perc[data-v-4fb3a642]{font-size:16px}#output[data-v-4fb3a642]{display:flex;justify-content:center;width:100%}.detail[data-v-4fb3a642]{padding:0 10px;width:50%}img[data-v-4fb3a642]{float:left;width:25px}.text[data-v-4fb3a642]{padding:10px 10px 0 0}",""]),e.exports=t},e31a:function(e,t,n){var r=n("24fb");t=r(!1),t.push([e.i,"#container{width:320px;height:120px;background-color:#fff;text-align:center;border:1px solid grey;font-size:small;font-family:Helvetica}#selects{width:100%;display:flex;justify-content:space-evenly;margin-top:10px}select{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;outline:none;padding:0 10px 0;background-color:#e7e7e7;height:25px}img{max-width:50%;margin-top:15px}",""]),e.exports=t}});
//# sourceMappingURL=app.081e295c.js.map